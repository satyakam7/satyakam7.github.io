for(var audioPlayers=document.querySelectorAll(".audio-player__container"),i=0;i<audioPlayers.length;i++)!function(){var e,t,n=i,r=audioPlayers[n].querySelector(".toggle"),a=audioPlayers[n].querySelector(".time-end"),o=audioPlayers[n].querySelector(".time-start"),l=audioPlayers[n].querySelector(".scrubber__scrubber"),u=audioPlayers[n].querySelector(".dial"),d=audioPlayers[n].querySelector(".file-path").innerHTML,c=l.getBoundingClientRect(),s=c.right-c.left,g=u.getBoundingClientRect(),y=g.right-g.left,f=s-y,m=new Audio;function v(){var e=Math.floor(m.currentTime/60),t=m.currentTime-60*e;t<=9?o.innerText=e+":0"+t.toFixed(0):t>=10&&(o.innerText=e+":"+t.toFixed(0)),setTimeout(v,10)}function T(t){r.classList.remove("paused"),r.classList.add("playing"),m.currentTime=t*m.duration,m.play(),e=setInterval(function(){TweenMax.set(u,{x:m.currentTime/m.duration*f})},30),v(m.currentTime)}function p(){r.classList.remove("playing"),r.classList.add("paused"),clearInterval(e),m.pause()}t=d,m.src=t,m.addEventListener("loadedmetadata",function(){duration=m.duration,console.log(duration);var e=Math.floor(duration/60),t=duration-60*e;a.innerText=e+":"+t.toFixed(0)}),Draggable.create(u,{type:"x",edgeResistance:1,bounds:l,lockAxis:!0,throwProps:!1,onPress:function(){p()},onDragEnd:function(){T(this.x/f),updatedCurrentTime()}}),l.addEventListener("click",function(e){p();var t=e.clientX-l.getBoundingClientRect().left-u.clientWidth/2;TweenMax.to(u,1,{x:t}),T(t/l.clientWidth)}),r.addEventListener("click",function(){r.classList.contains("playing")?p():T(m.currentTime/m.duration)}),m.addEventListener("ended",function(){btn.classList.remove("playing"),btn.classList.add("paused"),clearInterval(e),m.pause(),m.currentTime=0,TweenMax.to(u,1,{x:0})}),window.addEventListener("resize",function(){c=l.getBoundingClientRect(),s=c.right-c.left,u=scrubberContainer.querySelector(".dial"),g=u.getBoundingClientRect(),y=g.right-g.left,f=s-y})}();